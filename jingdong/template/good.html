{% extends "_fragment.html" %}
{% block body %}
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col" width="10%">商品编号</th>
          <th scope="col" width="30%">商品名称</th>
          <th scope="col" width="10%">当前价格（元）</th>
          <th scope="col" width="10%">总评价数量</th>
          <th scope="col" width="10%">评分等级（1-5）</th>
          <th scope="col" width="20%">好评率（%）</th>
        </tr>
      </thead>
      <tbody>
        {% for item in data.result %}
            <tr>
              <th>{{ item.product_id }}</th>
              <td><a href="{{ item.link }}">{{ item.name }}</a></td>
              <td>{{ item.price }}</td>
              <td>{{ item.comment.total_comment_num }}</td>
              <td>
                  {% for i in range(0, item.comment.average_score) %}
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
                    <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
                  </svg>
                  {% endfor %}
              </td>
              <td>{{ item.comment.good_rate * 100 }}</td>
            </tr>
        {% endfor %}

      </tbody>
    </table>

    {#  分页组件  #}
    <nav aria-label="Page navigation example">
      <ul class="pagination justify-content-end">
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Previous">
            <span aria-hidden="true">&laquo;</span>
          </a>
        </li>
        {% for i in range(1, data.sum) %}
          <li class="page-item"><a class="page-link" href="/good">{{ i }}</a></li>
          {% endfor %}
        <li class="page-item">
          <a class="page-link" href="#" aria-label="Next">
            <span aria-hidden="true">&raquo;</span>
          </a>
        </li>
      </ul>
    </nav>
{% endblock %}