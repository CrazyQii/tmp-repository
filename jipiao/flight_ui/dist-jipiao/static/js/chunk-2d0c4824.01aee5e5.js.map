{"version":3,"sources":["webpack:///./src/views/manage/MessageManage.vue?9b74","webpack:///src/views/manage/MessageManage.vue","webpack:///./src/views/manage/MessageManage.vue?7c17","webpack:///./src/views/manage/MessageManage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","columns","data","pagination","loading","scopedSlots","_u","key","fn","text","_v","_e","record","status","on","$event","del","id","staticRenderFns","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,UAAU,CAACE,YAAY,CAAC,aAAa,QAAQC,MAAM,CAAC,QAAUP,EAAIQ,QAAQ,cAAcR,EAAIS,KAAK,WAAaT,EAAIU,WAAW,QAAUV,EAAIW,SAASC,YAAYZ,EAAIa,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GAAM,MAAO,CAAW,IAATA,EAAYZ,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,YAAY,CAACP,EAAIiB,GAAG,SAASjB,EAAIkB,KAAe,IAATF,EAAYZ,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,UAAU,CAACP,EAAIiB,GAAG,SAASjB,EAAIkB,QAAQ,CAACJ,IAAI,YAAYC,GAAG,SAASC,EAAMG,GAAQ,MAAO,CAAoB,IAAlBA,EAAOC,OAAchB,EAAG,WAAW,CAACE,YAAY,CAAC,eAAe,QAAQC,MAAM,CAAC,KAAO,UAAUc,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOtB,EAAIuB,IAAIJ,EAAOK,OAAO,CAACxB,EAAIiB,GAAG,UAAUjB,EAAIkB,aAAa,IACvsBO,EAAkB,G,YC8BtB,GACA,CACE,MAAF,KACE,UAAF,KACE,IAAF,KACE,MAAF,OAEA,CACE,MAAF,KACE,UAAF,UACE,IAAF,UACE,MAAF,OAEA,CACE,MAAF,OACE,UAAF,QACE,IAAF,QACE,MAAF,OAEA,CACE,MAAF,KACE,UAAF,cACE,IAAF,cACE,MAAF,OAEA,CACE,MAAF,OACE,UAAF,SACE,IAAF,SACE,MAAF,MACE,YAAF,CAAI,aAAJ,WAEA,CACE,MAAF,KACE,UAAF,YACE,IAAF,YACE,YAAF,CAAI,aAAJ,eAIA,GACE,KAAF,gBACE,KAFF,WAGI,MAAJ,CACM,QAAN,EACM,SAAN,EACM,KAAN,GACM,WAAN,CACQ,SAAR,EACQ,QAAR,KAIE,QAbF,WAcI,KAAJ,eAEE,QAAF,CAII,YAJJ,WAIM,IAAN,OACM,KAAN,WACM,IAAN,GACQ,UAAR,yBACQ,QAAR,yBAEM,KAAN,+CAEQ,GADA,QAAR,OACA,aACU,IAAV,4BACY,EAAZ,sEAEU,EAAV,iBAEU,EAAV,iCAEQ,EAAR,eAOI,IA3BJ,SA2BA,GAAM,IAAN,OACA,GACQ,GAAR,GAEM,KAAN,iDACQ,GAAR,aACU,IAAV,4BACY,EAAZ,sEAEU,EAAV,YACU,EAAV,kCAEU,EAAV,iCAEQ,EAAR,iBChIsW,I,YCOlWC,EAAY,eACd,EACA3B,EACA0B,GACA,EACA,KACA,KACA,MAIa,aAAAC,E","file":"static/js/chunk-2d0c4824.01aee5e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-table',{staticStyle:{\"margin-top\":\"2rem\"},attrs:{\"columns\":_vm.columns,\"data-source\":_vm.data,\"pagination\":_vm.pagination,\"loading\":_vm.loading},scopedSlots:_vm._u([{key:\"status\",fn:function(text){return [(text === 0)?_c('a-tag',{attrs:{\"color\":'volcano'}},[_vm._v(\"未处理\")]):_vm._e(),(text === 1)?_c('a-tag',{attrs:{\"color\":'green'}},[_vm._v(\"已处理\")]):_vm._e()]}},{key:\"operation\",fn:function(text, record){return [(record.status === 0)?_c('a-button',{staticStyle:{\"margin-right\":\"2rem\"},attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.del(record.id)}}},[_vm._v(\"处理完成\")]):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <a-table\r\n            :columns=\"columns\"\r\n            :data-source=\"data\"\r\n            :pagination=\"pagination\"\r\n            :loading=\"loading\"\r\n            style=\"margin-top:2rem;\"\r\n        >\r\n            <template slot=\"status\" slot-scope=\"text\">\r\n                <a-tag v-if=\"text === 0\" :color=\"'volcano'\">未处理</a-tag>\r\n                <a-tag v-if=\"text === 1\" :color=\"'green'\">已处理</a-tag>\r\n            </template>\r\n            <!-- 删除 -->\r\n            <template slot=\"operation\" slot-scope=\"text, record\">\r\n                <a-button\r\n                v-if=\"record.status === 0\"\r\n                type=\"danger\"\r\n                @click=\"del(record.id)\"\r\n                style=\"margin-right: 2rem\"\r\n                >处理完成</a-button\r\n                >\r\n            </template>\r\n        </a-table>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getTaskTime} from '../../utils/common'\r\n\r\nconst columns = [\r\n  {\r\n    title: \"编号\",\r\n    dataIndex: \"id\",\r\n    key: 'id',\r\n    width: \"10%\",\r\n  },\r\n  {\r\n    title: \"内容\",\r\n    dataIndex: \"content\",\r\n    key: 'content',\r\n    width: \"50%\",\r\n  },\r\n  {\r\n    title: \"联系方式\",\r\n    dataIndex: \"phone\",\r\n    key: 'phone',\r\n    width: \"10%\",\r\n  },\r\n  {\r\n    title: \"时间\",\r\n    dataIndex: \"create_time\",\r\n    key: 'create_time',\r\n    width: \"15%\",\r\n  },\r\n  {\r\n    title: \"处理状态\",\r\n    dataIndex: \"status\",\r\n    key: 'status',\r\n    width: \"10%\",\r\n    scopedSlots: { customRender: \"status\" },\r\n  },\r\n  {\r\n    title: \"操作\",\r\n    dataIndex: \"operation\",\r\n    key: 'operation',\r\n    scopedSlots: { customRender: \"operation\" },\r\n  },\r\n];\r\n\r\nexport default {\r\n    name: 'MessageManage',\r\n    data() {\r\n        return {\r\n            columns,\r\n            loading: false,\r\n            data: [],\r\n            pagination: {\r\n                pageSize: 5,\r\n                current: 1,\r\n            },\r\n        }\r\n    },\r\n    mounted() {\r\n        this.get_message()\r\n    },\r\n    methods: {\r\n        /**\r\n         * 查询留言信息\r\n         */\r\n        get_message() {\r\n            this.loading = true\r\n            let param = {\r\n                'pagelimit': this.pagination.pageSize,\r\n                'pagenum': this.pagination.current\r\n            }\r\n            this.$flight_api.get_messsages(param).then((res) => {\r\n                console.log(res)\r\n                if (res.code == 200) {\r\n                    for (let index = 0; index < res.data.length; index++) {\r\n                        res['data'][index]['create_time'] = getTaskTime(res['data'][index]['create_time'])\r\n                    }\r\n                    this.data = res.data\r\n                } else {\r\n                    this.$message.error('请求数据失败! ' + res.msg);\r\n                }\r\n                this.loading = false\r\n            })\r\n        },\r\n\r\n        /**\r\n         * 处理留言信息\r\n         */\r\n        del(id) {\r\n            let param = {\r\n                'id': id\r\n            }\r\n             this.$flight_api.remove_messsage(param).then((res) => {\r\n                 if (res.code == 200) {\r\n                    for (let index = 0; index < res.data.length; index++) {\r\n                        res['data'][index]['create_time'] = getTaskTime(res['data'][index]['create_time'])\r\n                    }\r\n                    this.data = res.data\r\n                    this.$message.success('状态变更成功! ');\r\n                } else {\r\n                    this.$message.error('请求数据失败! ' + res.msg);\r\n                }\r\n                this.loading = false\r\n             })\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageManage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageManage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageManage.vue?vue&type=template&id=62cea804&\"\nimport script from \"./MessageManage.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageManage.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}