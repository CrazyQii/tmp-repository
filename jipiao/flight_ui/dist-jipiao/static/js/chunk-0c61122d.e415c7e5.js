(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c61122d"],{"057f":function(t,e,r){var i=r("fc6a"),n=r("241c").f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return n(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==a.call(t)?s(t):n(i(t))}},"159b":function(t,e,r){var i=r("da84"),n=r("fdbc"),a=r("17c2"),o=r("9112");for(var s in n){var c=i[s],f=c&&c.prototype;if(f&&f.forEach!==a)try{o(f,"forEach",a)}catch(l){f.forEach=a}}},"17c2":function(t,e,r){"use strict";var i=r("b727").forEach,n=r("a640"),a=n("forEach");t.exports=a?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},"4de4":function(t,e,r){"use strict";var i=r("23e7"),n=r("b727").filter,a=r("1dde"),o=a("filter");i({target:"Array",proto:!0,forced:!o},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5530:function(t,e,r){"use strict";r.d(e,"a",(function(){return a}));r("b64b"),r("a4d3"),r("4de4"),r("e439"),r("159b"),r("dbb4");function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function a(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}},"746f":function(t,e,r){var i=r("428f"),n=r("5135"),a=r("e5383"),o=r("9bf2").f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||o(e,t,{value:a.f(t)})}},a175:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a-page-header",{staticStyle:{border:"1px solid rgb(235, 237, 240)"},attrs:{title:"航班信息管理","sub-title":""}}),r("a-row",{staticStyle:{"margin-top":"2rem"}},[r("a-col",{attrs:{span:6}},[r("span",[t._v("航班日期：")]),r("a-date-picker",{attrs:{format:"YYYY-MM-DD","disabled-date":t.disabledDate,placeholder:"选择始发日期"},on:{change:t.OnChange}})],1),r("a-col",{attrs:{span:6}},[r("span",[t._v("始发城市：")]),r("a-cascader",{attrs:{options:t.options,"expand-trigger":"hover",placeholder:"选择始发城市"},on:{change:t.onChangeStartCity}})],1),r("a-col",{attrs:{span:6}},[r("span",[t._v("到达城市：")]),r("a-cascader",{attrs:{options:t.options,"expand-trigger":"hover",placeholder:"选择到达城市"},on:{change:t.onChangeArriveCity}})],1),r("a-col",{attrs:{span:5}},[r("a-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v(" 查询 ")]),r("a-button",{staticStyle:{"margin-left":"2rem"},attrs:{type:"primary"},on:{click:t.addFlight}},[t._v(" 添加航班 ")])],1)],1),r("a-table",{staticStyle:{"margin-top":"2rem"},attrs:{columns:t.columns,"data-source":t.data,pagination:t.pagination,loading:t.loading},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"dm",fn:function(e){return[t._v(" "+t._s(e)+" ")]}},{key:"flight_company",fn:function(e){return[t._v(" "+t._s(e)+" ")]}},{key:"operation",fn:function(e,i){return[r("a-button",{staticStyle:{"margin-right":"2rem"},attrs:{type:"danger"},on:{click:function(e){return t.del(i.id)}}},[t._v("删除")]),r("a-button",{staticStyle:{"margin-right":"2rem"},attrs:{type:"primary"},on:{click:function(e){return t.edit(i)}}},[t._v("编辑")])]}}])}),t.reFresh?r("a-drawer",{attrs:{title:"机票信息",width:720,visible:t.visible,"body-style":{paddingBottom:"80px"}},on:{close:t.onClose}},[r("FlightInfo",{attrs:{flight:t.flight}})],1):t._e()],1)},n=[],a=r("5530"),o=r("cf45"),s=r("c1df"),c=r.n(s),f=(r("5c3a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticStyle:{width:"60%",margin:"0 auto"}},[r("a-form-model",{ref:"ruleForm",attrs:{model:t.form}},[r("a-form-model-item",{attrs:{"has-feedback":"",label:"航空公司",prop:"pass"}},[r("a-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.flight_company,callback:function(e){t.$set(t.form,"flight_company",e)},expression:"form.flight_company"}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",label:"机型",prop:"checkPass"}},[r("a-input",{attrs:{type:"text",autocomplete:"off"},model:{value:t.form.flight_type,callback:function(e){t.$set(t.form,"flight_type",e)},expression:"form.flight_type"}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",label:"座位数量",prop:"checkPass"}},[r("a-input-number",{attrs:{min:0,value:t.form.flight_number},on:{change:t.handleNumberChange}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",label:"机票价格",prop:"checkPass"}},[r("a-input-number",{attrs:{min:0,value:t.form.price},on:{change:t.handlePriceChange}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",label:"起始地点"}},[r("a-cascader",{attrs:{options:t.options,"expand-trigger":"hover",placeholder:"选择始发城市"},on:{change:t.onChangeStartCity}})],1),r("a-form-model-item",{attrs:{"has-feedback":"",label:"到达地点"}},[r("a-cascader",{attrs:{options:t.options,"expand-trigger":"hover",placeholder:"选择始发城市"},on:{change:t.onChangeArrCity}})],1),r("a-form-item",{attrs:{label:"航班时间"}},[r("a-range-picker",{attrs:{"disabled-date":t.disabledDate,"disabled-time":t.disabledRangeTime,"show-time":{hideDisabledOptions:!0,defaultValue:[t.moment("00:00:00","HH:mm:ss"),t.moment("11:59:59","HH:mm:ss")]},format:"YYYY-MM-DD HH:mm:ss"},on:{ok:t.handleOk}})],1),r("a-form-item",[r("a-button",{attrs:{type:"primary","html-type":"submit"},on:{click:t.handleSubmit}},[t._v(" 确认 ")])],1)],1)],1)}),l=[],h=(r("a434"),{name:"FlightInfo",props:{flight:{type:Object}},data:function(){return{form:{flight_company:this.flight.flight_company,flight_type:this.flight.flight_type,price:this.flight.price,from_pos:this.flight.from_pos,to_pos:this.flight.to_pos,start_time:this.flight.start_time,end_time:this.flight.end_time,flight_number:this.flight.flight_number},options:o["a"]}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"register"})},methods:{moment:c.a,range:function(t,e){for(var r=[],i=t;i<e;i++)r.push(i);return r},disabledDate:function(t){return t&&t<c()().endOf("day")},disabledRangeTime:function(t,e){var r=this;return"start"===e?{disabledHours:function(){return r.range(0,60).splice(24)},disabledMinutes:function(){return r.range(60)},disabledSeconds:function(){return[55,56]}}:{disabledHours:function(){return r.range(0,60).splice(24)},disabledMinutes:function(){return r.range(0)},disabledSeconds:function(){return[55,56]}}},handleOk:function(t){this.form.start_time=Object(o["d"])(String(t[0]["_d"])),this.form.end_time=Object(o["d"])(String(t[1]["_d"]))},handleSubmit:function(){var t=this;if(this.form.from_pos!==this.form.to_pos){this.loading=!0;var e={flight_id:this.flight.id,flight_company:this.form.flight_company,flight_type:this.form.flight_type,price:this.form.price,flight_number:this.form.flight_number,from_pos:this.form.from_pos,to_pos:this.form.to_pos,start_time:this.form.start_time,end_time:this.form.end_time};console.log(e),this.$flight_api.update_flight(e).then((function(e){console.log(e),200==e.code?(t.$message.success("修改航班信息成功! "),t.$router.go(0)):t.$message.error("修改航班信息失败! "+e.msg),t.loading=!1}))}else this.$message.error("始发城市和目的地城市不能是一个城市!")},handleNumberChange:function(t){console.log(t),this.form.flight_number=t},handlePriceChange:function(t){console.log(t),this.form.price=t},onChangeStartCity:function(t){this.form.from_pos=t[t.length-1]},onChangeArrCity:function(t){this.form.to_pos=t[t.length-1]}}}),u=h,d=r("2877"),g=Object(d["a"])(u,f,l,!1,null,null,null),m=g.exports,p=[{title:"始发城市",dataIndex:"from_pos",key:"from_pos"},{title:"目的地城市",dataIndex:"to_pos",key:"to_pos"},{title:"航空公司",dataIndex:"flight_company",key:"flight_company",width:"15%",scopedSlots:{customRender:"flight_company"}},{title:"机型",dataIndex:"flight_type",key:"flight_type",width:"10%"},{title:"始发时间",dataIndex:"start_time",key:"start_time",width:"15%",scopedSlots:{customRender:"start_time"}},{title:"到达时间",dataIndex:"end_time",key:"end_time",width:"15%",scopedSlots:{customRender:"end_time"}},{title:"机票价格(￥)",dataIndex:"price",key:"price",scopedSlots:{customRender:"price"}},{title:"操作",dataIndex:"operation",key:"operation",scopedSlots:{customRender:"operation"}}],b={name:"FlightManage",components:{FlightInfo:m},props:{user_info:{type:Object}},data:function(){return{loading:!1,data:[],columns:p,pagination:{pageSize:5,current:1},options:o["a"],date:"",start_city:"",arrive_city:"",visible:!1,flight:{},reFresh:!0}},mounted:function(){var t={pagenum:this.pagination.current,pagelimit:this.pagination.pageSize};this.get_flight(t)},methods:{moment:c.a,disabledDate:function(t){return t&&t<=c()().endOf("day")},handleTableChange:function(t){var e=Object(a["a"])({},this.pagination);e.current=t.current,this.pagination=e},get_flight:function(t){var e=this;""!=this.date&&(t["start_time"]=this.date),""!=this.start_city&&(t["from_pos"]=this.start_city),""!=this.arrive_city&&(t["to_pos"]=this.arrive_city),this.loading=!0,this.$flight_api.get_flight_list(t).then((function(t){if(console.log(t),200==t.code){for(var r=0;r<t.data["flights"].length;r++)t["data"]["flights"][r]["start_time"]=Object(o["d"])(t["data"]["flights"][r]["start_time"]),t["data"]["flights"][r]["end_time"]=Object(o["d"])(t["data"]["flights"][r]["end_time"]),t["data"]["flights"][r]["interval"]=Object(o["e"])(t["data"]["flights"][r]["start_time"],t["data"]["flights"][r]["end_time"]);e.data=t["data"]["flights"]}else e.$message.error("请求数据失败! "+t.msg);e.loading=!1}))},onChangeStartCity:function(t){this.start_city=t[t.length-1]},onChangeArriveCity:function(t){this.arrive_city=t[t.length-1]},OnChange:function(t){this.date=null==t?null:Object(o["c"])(String(t._d))},submit:function(){var t={pagenum:this.pagination.current,pagelimit:this.pagination.pageSize};this.get_flight(t)},edit:function(t){var e=this;this.visible=!0,this.flight=t,this.reFresh=!1,this.$nextTick((function(){e.reFresh=!0}))},addFlight:function(){var t=this;this.visible=!0,this.reFresh=!1,this.flight={},this.$nextTick((function(){t.reFresh=!0}))},onClose:function(){this.visible=!1},del:function(t){var e=this;console.log(t);var r={flight_id:t};""!=this.date&&(r["start_time"]=this.date),""!=this.start_city&&(r["from_pos"]=this.start_city),""!=this.arrive_city&&(r["to_pos"]=this.arrive_city),this.$flight_api.remove_flight(r).then((function(t){if(200==t.code){e.$message.success("删除成功");for(var r=0;r<t.data["flights"].length;r++)t["data"]["flights"][r]["start_time"]=Object(o["d"])(t["data"]["flights"][r]["start_time"]),t["data"]["flights"][r]["end_time"]=Object(o["d"])(t["data"]["flights"][r]["end_time"]),t["data"]["flights"][r]["interval"]=Object(o["e"])(t["data"]["flights"][r]["start_time"],t["data"]["flights"][r]["end_time"]);e.data=t["data"]["flights"]}else e.$message.error("删除数据失败! "+t.msg)}))}}},y=b,_=Object(d["a"])(y,i,n,!1,null,null,null);e["default"]=_.exports},a434:function(t,e,r){"use strict";var i=r("23e7"),n=r("23cb"),a=r("a691"),o=r("50c4"),s=r("7b0b"),c=r("65f0"),f=r("8418"),l=r("1dde"),h=l("splice"),u=Math.max,d=Math.min,g=9007199254740991,m="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!h},{splice:function(t,e){var r,i,l,h,p,b,y=s(this),_=o(y.length),v=n(t,_),O=arguments.length;if(0===O?r=i=0:1===O?(r=0,i=_-v):(r=O-2,i=d(u(a(e),0),_-v)),_+r-i>g)throw TypeError(m);for(l=c(y,i),h=0;h<i;h++)p=v+h,p in y&&f(l,h,y[p]);if(l.length=i,r<i){for(h=v;h<_-i;h++)p=h+i,b=h+r,p in y?y[b]=y[p]:delete y[b];for(h=_;h>_-i+r;h--)delete y[h-1]}else if(r>i)for(h=_-i;h>v;h--)p=h+i-1,b=h+r-1,p in y?y[b]=y[p]:delete y[b];for(h=0;h<r;h++)y[h+v]=arguments[h+2];return y.length=_-i+r,l}})},a4d3:function(t,e,r){"use strict";var i=r("23e7"),n=r("da84"),a=r("d066"),o=r("c430"),s=r("83ab"),c=r("4930"),f=r("fdbf"),l=r("d039"),h=r("5135"),u=r("e8b5"),d=r("861d"),g=r("825a"),m=r("7b0b"),p=r("fc6a"),b=r("c04e"),y=r("5c6c"),_=r("7c73"),v=r("df75"),O=r("241c"),w=r("057f"),S=r("7418"),k=r("06cf"),j=r("9bf2"),x=r("d1e7"),C=r("9112"),P=r("6eeb"),$=r("5692"),D=r("f772"),E=r("d012"),F=r("90e3"),I=r("b622"),M=r("e5383"),T=r("746f"),H=r("d44e"),Y=r("69f3"),N=r("b727").forEach,R=D("hidden"),A="Symbol",J="prototype",z=I("toPrimitive"),B=Y.set,Q=Y.getterFor(A),V=Object[J],W=n.Symbol,q=a("JSON","stringify"),G=k.f,K=j.f,L=w.f,U=x.f,X=$("symbols"),Z=$("op-symbols"),tt=$("string-to-symbol-registry"),et=$("symbol-to-string-registry"),rt=$("wks"),it=n.QObject,nt=!it||!it[J]||!it[J].findChild,at=s&&l((function(){return 7!=_(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,r){var i=G(V,e);i&&delete V[e],K(t,e,r),i&&t!==V&&K(V,e,i)}:K,ot=function(t,e){var r=X[t]=_(W[J]);return B(r,{type:A,tag:t,description:e}),s||(r.description=e),r},st=f?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ct=function(t,e,r){t===V&&ct(Z,e,r),g(t);var i=b(e,!0);return g(r),h(X,i)?(r.enumerable?(h(t,R)&&t[R][i]&&(t[R][i]=!1),r=_(r,{enumerable:y(0,!1)})):(h(t,R)||K(t,R,y(1,{})),t[R][i]=!0),at(t,i,r)):K(t,i,r)},ft=function(t,e){g(t);var r=p(e),i=v(r).concat(gt(r));return N(i,(function(e){s&&!ht.call(r,e)||ct(t,e,r[e])})),t},lt=function(t,e){return void 0===e?_(t):ft(_(t),e)},ht=function(t){var e=b(t,!0),r=U.call(this,e);return!(this===V&&h(X,e)&&!h(Z,e))&&(!(r||!h(this,e)||!h(X,e)||h(this,R)&&this[R][e])||r)},ut=function(t,e){var r=p(t),i=b(e,!0);if(r!==V||!h(X,i)||h(Z,i)){var n=G(r,i);return!n||!h(X,i)||h(r,R)&&r[R][i]||(n.enumerable=!0),n}},dt=function(t){var e=L(p(t)),r=[];return N(e,(function(t){h(X,t)||h(E,t)||r.push(t)})),r},gt=function(t){var e=t===V,r=L(e?Z:p(t)),i=[];return N(r,(function(t){!h(X,t)||e&&!h(V,t)||i.push(X[t])})),i};if(c||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=F(t),r=function(t){this===V&&r.call(Z,t),h(this,R)&&h(this[R],e)&&(this[R][e]=!1),at(this,e,y(1,t))};return s&&nt&&at(V,e,{configurable:!0,set:r}),ot(e,t)},P(W[J],"toString",(function(){return Q(this).tag})),P(W,"withoutSetter",(function(t){return ot(F(t),t)})),x.f=ht,j.f=ct,k.f=ut,O.f=w.f=dt,S.f=gt,M.f=function(t){return ot(I(t),t)},s&&(K(W[J],"description",{configurable:!0,get:function(){return Q(this).description}}),o||P(V,"propertyIsEnumerable",ht,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:W}),N(v(rt),(function(t){T(t)})),i({target:A,stat:!0,forced:!c},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var r=W(e);return tt[e]=r,et[r]=e,r},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!s},{create:lt,defineProperty:ct,defineProperties:ft,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:dt,getOwnPropertySymbols:gt}),i({target:"Object",stat:!0,forced:l((function(){S.f(1)}))},{getOwnPropertySymbols:function(t){return S.f(m(t))}}),q){var mt=!c||l((function(){var t=W();return"[null]"!=q([t])||"{}"!=q({a:t})||"{}"!=q(Object(t))}));i({target:"JSON",stat:!0,forced:mt},{stringify:function(t,e,r){var i,n=[t],a=1;while(arguments.length>a)n.push(arguments[a++]);if(i=e,(d(e)||void 0!==t)&&!st(t))return u(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!st(e))return e}),n[1]=e,q.apply(null,n)}})}W[J][z]||C(W[J],z,W[J].valueOf),H(W,A),E[R]=!0},a640:function(t,e,r){"use strict";var i=r("d039");t.exports=function(t,e){var r=[][t];return!!r&&i((function(){r.call(null,e||function(){throw 1},1)}))}},b64b:function(t,e,r){var i=r("23e7"),n=r("7b0b"),a=r("df75"),o=r("d039"),s=o((function(){a(1)}));i({target:"Object",stat:!0,forced:s},{keys:function(t){return a(n(t))}})},b727:function(t,e,r){var i=r("0366"),n=r("44ad"),a=r("7b0b"),o=r("50c4"),s=r("65f0"),c=[].push,f=function(t){var e=1==t,r=2==t,f=3==t,l=4==t,h=6==t,u=7==t,d=5==t||h;return function(g,m,p,b){for(var y,_,v=a(g),O=n(v),w=i(m,p,3),S=o(O.length),k=0,j=b||s,x=e?j(g,S):r||u?j(g,0):void 0;S>k;k++)if((d||k in O)&&(y=O[k],_=w(y,k,v),t))if(e)x[k]=_;else if(_)switch(t){case 3:return!0;case 5:return y;case 6:return k;case 2:c.call(x,y)}else switch(t){case 4:return!1;case 7:c.call(x,y)}return h?-1:f||l?l:x}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterOut:f(7)}},dbb4:function(t,e,r){var i=r("23e7"),n=r("83ab"),a=r("56ef"),o=r("fc6a"),s=r("06cf"),c=r("8418");i({target:"Object",stat:!0,sham:!n},{getOwnPropertyDescriptors:function(t){var e,r,i=o(t),n=s.f,f=a(i),l={},h=0;while(f.length>h)r=n(i,e=f[h++]),void 0!==r&&c(l,e,r);return l}})},e439:function(t,e,r){var i=r("23e7"),n=r("d039"),a=r("fc6a"),o=r("06cf").f,s=r("83ab"),c=n((function(){o(1)})),f=!s||c;i({target:"Object",stat:!0,forced:f,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},e5383:function(t,e,r){var i=r("b622");e.f=i}}]);
//# sourceMappingURL=chunk-0c61122d.e415c7e5.js.map