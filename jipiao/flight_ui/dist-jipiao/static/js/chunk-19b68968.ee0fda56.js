(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-19b68968"],{"23b5":function(e,r,t){"use strict";t("6fb3")},"6fb3":function(e,r,t){},"935e":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("a-form",{attrs:{id:"components-form-normal-register",form:e.form},on:{submit:e.handleSubmit}},[t("a-form-item",e._b({attrs:{label:"手机号"}},"a-form-item",e.formItemLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["phone",{rules:[{required:!0,message:"请输入您的手机号!"}]}],expression:"[\n          'phone',\n          {\n            rules: [{ required: true, message: '请输入您的手机号!' }],\n          },\n        ]"}],staticStyle:{width:"100%"}},[t("a-select",{directives:[{name:"decorator",rawName:"v-decorator",value:["prefix",{initialValue:"86"}],expression:"['prefix', { initialValue: '86' }]"}],staticStyle:{width:"70px"},attrs:{slot:"addonBefore"},slot:"addonBefore"},[t("a-select-option",{attrs:{value:"86"}},[e._v(" +86 ")]),t("a-select-option",{attrs:{value:"87"}},[e._v(" +87 ")])],1)],1)],1),t("a-form-item",e._b({attrs:{label:"新密码","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["password",{rules:[{required:!0,message:"请输入您的新密码!"},{validator:e.validateToNextPassword}]}],expression:"[\n          'password',\n          {\n            rules: [\n              {\n                required: true,\n                message: '请输入您的新密码!',\n              },\n              {\n                validator: validateToNextPassword,\n              },\n            ],\n          },\n        ]"}],attrs:{type:"password"}})],1),t("a-form-item",e._b({attrs:{label:"确认新密码","has-feedback":""}},"a-form-item",e.formItemLayout,!1),[t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["confirm",{rules:[{required:!0,message:"请再次输入新密码!"},{validator:e.compareToFirstPassword}]}],expression:"[\n          'confirm',\n          {\n            rules: [\n              {\n                required: true,\n                message: '请再次输入新密码!',\n              },\n              {\n                validator: compareToFirstPassword,\n              },\n            ],\n          },\n        ]"}],attrs:{type:"password"},on:{blur:e.handleConfirmBlur}})],1),t("a-form-item",e._b({},"a-form-item",e.formItemLayout,!1),[t("span",{attrs:{slot:"label"},slot:"label"},[e._v(" 昵称 "),t("a-tooltip",{attrs:{title:"昵称不可用于登录哦！"}},[t("a-icon",{attrs:{type:"question-circle-o"}})],1)],1),t("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["nickname",{rules:[{required:!0,message:"请输入您的昵称!",whitespace:!0}]}],expression:"[\n          'nickname',\n          {\n            rules: [\n              {\n                required: true,\n                message: '请输入您的昵称!',\n                whitespace: true,\n              },\n            ],\n          },\n        ]"}]})],1),t("a-form-item",[t("div",{staticStyle:{float:"right"}},[e._v(" 已有账号？"),t("a",{on:{click:e.to_login}},[e._v(" 登录 ")])])]),t("a-form-item",[t("a-button",{staticClass:"register-form-button",attrs:{type:"primary","html-type":"submit",size:"large",loading:e.loading}},[e._v(" 注册 ")])],1)],1)],1)},o=[],s={name:"Register",data:function(){return{loading:!1,confirmDirty:!1,formItemLayout:{labelCol:{xs:{span:16},sm:{span:4}},wrapperCol:{xs:{span:24},sm:{span:20}}}}},beforeCreate:function(){this.form=this.$form.createForm(this,{name:"register"})},methods:{handleSubmit:function(e){var r=this;this.loading=!0,e.preventDefault(),this.form.validateFieldsAndScroll((function(e,t){if(e)r.loading=!1;else{var a={phone:t["phone"],password:t["password"],nickname:t["nickname"]};console.log("Received values of form: ",a),r.$user_api.register(a).then((function(e){200==e.code?(r.$message.success("注册成功！"),r.$router.push({path:"/login"})):r.$message.error(e.msg),r.loading=!1})).catch((function(){r.$message.error("连接到服务器失败"),r.loading=!1}))}}))},handleConfirmBlur:function(e){var r=e.target.value;this.confirmDirty=this.confirmDirty||!!r},compareToFirstPassword:function(e,r,t){var a=this.form;r&&r!==a.getFieldValue("password")?t("两次密码输入不一致!"):t()},validateToNextPassword:function(e,r,t){var a=this.form;r&&this.confirmDirty&&a.validateFields(["confirm"],{force:!0}),t()},to_login:function(){this.$router.push({path:"/login"})}}},n=s,i=(t("23b5"),t("2877")),l=Object(i["a"])(n,a,o,!1,null,"26d2f17f",null);r["default"]=l.exports}}]);
//# sourceMappingURL=chunk-19b68968.ee0fda56.js.map