{"version":3,"sources":["webpack:///./src/views/auth/Register.vue?9df6","webpack:///./src/views/auth/Register.vue?2343","webpack:///src/views/auth/Register.vue","webpack:///./src/views/auth/Register.vue?5cb3","webpack:///./src/views/auth/Register.vue?9eb2"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","form","on","handleSubmit","_b","formItemLayout","directives","name","rawName","value","rules","required","message","expression","staticStyle","initialValue","slot","_v","validator","validateToNextPassword","compareToFirstPassword","handleConfirmBlur","whitespace","to_login","staticClass","loading","staticRenderFns","data","confirmDirty","labelCol","xs","sm","wrapperCol","beforeCreate","$form","createForm","methods","e","preventDefault","validateFieldsAndScroll","err","phone","values","password","nickname","console","log","res","code","path","getFieldValue","callback","validateFields","$router","push","component"],"mappings":"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","file":"static/js/chunk-19b68968.ee0fda56.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=style&index=0&id=26d2f17f&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('a-form',{attrs:{\"id\":\"components-form-normal-register\",\"form\":_vm.form},on:{\"submit\":_vm.handleSubmit}},[_c('a-form-item',_vm._b({attrs:{\"label\":\"手机号\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n          'phone',\n          {\n            rules: [{ required: true, message: '请输入您的手机号!' }],\n          } ]),expression:\"[\\n          'phone',\\n          {\\n            rules: [{ required: true, message: '请输入您的手机号!' }],\\n          },\\n        ]\"}],staticStyle:{\"width\":\"100%\"}},[_c('a-select',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:(['prefix', { initialValue: '86' }]),expression:\"['prefix', { initialValue: '86' }]\"}],staticStyle:{\"width\":\"70px\"},attrs:{\"slot\":\"addonBefore\"},slot:\"addonBefore\"},[_c('a-select-option',{attrs:{\"value\":\"86\"}},[_vm._v(\" +86 \")]),_c('a-select-option',{attrs:{\"value\":\"87\"}},[_vm._v(\" +87 \")])],1)],1)],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"新密码\",\"has-feedback\":\"\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n          'password',\n          {\n            rules: [\n              {\n                required: true,\n                message: '请输入您的新密码!',\n              },\n              {\n                validator: _vm.validateToNextPassword,\n              } ],\n          } ]),expression:\"[\\n          'password',\\n          {\\n            rules: [\\n              {\\n                required: true,\\n                message: '请输入您的新密码!',\\n              },\\n              {\\n                validator: validateToNextPassword,\\n              },\\n            ],\\n          },\\n        ]\"}],attrs:{\"type\":\"password\"}})],1),_c('a-form-item',_vm._b({attrs:{\"label\":\"确认新密码\",\"has-feedback\":\"\"}},'a-form-item',_vm.formItemLayout,false),[_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n          'confirm',\n          {\n            rules: [\n              {\n                required: true,\n                message: '请再次输入新密码!',\n              },\n              {\n                validator: _vm.compareToFirstPassword,\n              } ],\n          } ]),expression:\"[\\n          'confirm',\\n          {\\n            rules: [\\n              {\\n                required: true,\\n                message: '请再次输入新密码!',\\n              },\\n              {\\n                validator: compareToFirstPassword,\\n              },\\n            ],\\n          },\\n        ]\"}],attrs:{\"type\":\"password\"},on:{\"blur\":_vm.handleConfirmBlur}})],1),_c('a-form-item',_vm._b({},'a-form-item',_vm.formItemLayout,false),[_c('span',{attrs:{\"slot\":\"label\"},slot:\"label\"},[_vm._v(\" 昵称 \"),_c('a-tooltip',{attrs:{\"title\":\"昵称不可用于登录哦！\"}},[_c('a-icon',{attrs:{\"type\":\"question-circle-o\"}})],1)],1),_c('a-input',{directives:[{name:\"decorator\",rawName:\"v-decorator\",value:([\n          'nickname',\n          {\n            rules: [\n              {\n                required: true,\n                message: '请输入您的昵称!',\n                whitespace: true,\n              } ],\n          } ]),expression:\"[\\n          'nickname',\\n          {\\n            rules: [\\n              {\\n                required: true,\\n                message: '请输入您的昵称!',\\n                whitespace: true,\\n              },\\n            ],\\n          },\\n        ]\"}]})],1),_c('a-form-item',[_c('div',{staticStyle:{\"float\":\"right\"}},[_vm._v(\" 已有账号？\"),_c('a',{on:{\"click\":_vm.to_login}},[_vm._v(\" 登录 \")])])]),_c('a-form-item',[_c('a-button',{staticClass:\"register-form-button\",attrs:{\"type\":\"primary\",\"html-type\":\"submit\",\"size\":\"large\",\"loading\":_vm.loading}},[_vm._v(\" 注册 \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <a-form\r\n      id=\"components-form-normal-register\"\r\n      :form=\"form\"\r\n      @submit=\"handleSubmit\"\r\n    >\r\n      <a-form-item v-bind=\"formItemLayout\" label=\"手机号\">\r\n        <a-input\r\n          v-decorator=\"[\r\n            'phone',\r\n            {\r\n              rules: [{ required: true, message: '请输入您的手机号!' }],\r\n            },\r\n          ]\"\r\n          style=\"width: 100%\"\r\n        >\r\n          <a-select\r\n            slot=\"addonBefore\"\r\n            v-decorator=\"['prefix', { initialValue: '86' }]\"\r\n            style=\"width: 70px\"\r\n          >\r\n            <a-select-option value=\"86\"> +86 </a-select-option>\r\n            <a-select-option value=\"87\"> +87 </a-select-option>\r\n          </a-select>\r\n        </a-input>\r\n      </a-form-item>\r\n      <a-form-item v-bind=\"formItemLayout\" label=\"新密码\" has-feedback>\r\n        <a-input\r\n          v-decorator=\"[\r\n            'password',\r\n            {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请输入您的新密码!',\r\n                },\r\n                {\r\n                  validator: validateToNextPassword,\r\n                },\r\n              ],\r\n            },\r\n          ]\"\r\n          type=\"password\"\r\n        />\r\n      </a-form-item>\r\n      <a-form-item v-bind=\"formItemLayout\" label=\"确认新密码\" has-feedback>\r\n        <a-input\r\n          v-decorator=\"[\r\n            'confirm',\r\n            {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请再次输入新密码!',\r\n                },\r\n                {\r\n                  validator: compareToFirstPassword,\r\n                },\r\n              ],\r\n            },\r\n          ]\"\r\n          type=\"password\"\r\n          @blur=\"handleConfirmBlur\"\r\n        />\r\n      </a-form-item>\r\n      <a-form-item v-bind=\"formItemLayout\">\r\n        <span slot=\"label\">\r\n          昵称&nbsp;\r\n          <a-tooltip title=\"昵称不可用于登录哦！\">\r\n            <a-icon type=\"question-circle-o\" />\r\n          </a-tooltip>\r\n        </span>\r\n        <a-input\r\n          v-decorator=\"[\r\n            'nickname',\r\n            {\r\n              rules: [\r\n                {\r\n                  required: true,\r\n                  message: '请输入您的昵称!',\r\n                  whitespace: true,\r\n                },\r\n              ],\r\n            },\r\n          ]\"\r\n        />\r\n      </a-form-item>\r\n      <a-form-item>\r\n        <div style=\"float: right\">\r\n          已有账号？<a @click=\"to_login\"> 登录 </a>\r\n        </div>\r\n      </a-form-item>\r\n      <a-form-item>\r\n        <a-button\r\n          type=\"primary\"\r\n          html-type=\"submit\"\r\n          size=\"large\"\r\n          class=\"register-form-button\"\r\n          :loading=\"loading\"\r\n        >\r\n          注册\r\n        </a-button>\r\n      </a-form-item>\r\n    </a-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Register\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      confirmDirty: false,\r\n      formItemLayout: {\r\n        labelCol: {\r\n          xs: { span: 16 },\r\n          sm: { span: 4 },\r\n        },\r\n        wrapperCol: {\r\n          xs: { span: 24 },\r\n          sm: { span: 20 },\r\n        },\r\n      },\r\n    };\r\n  },\r\n  beforeCreate() {\r\n    this.form = this.$form.createForm(this, { name: \"register\" });\r\n  },\r\n  methods: {\r\n    /**\r\n     * 提交表格数据\r\n     */\r\n    handleSubmit(e) {\r\n      this.loading = true\r\n      e.preventDefault();\r\n      this.form.validateFieldsAndScroll((err, values) => {\r\n        if (!err) {\r\n          let data = {\r\n            phone: values[\"phone\"],\r\n            password: values[\"password\"],\r\n            nickname: values[\"nickname\"],\r\n          };\r\n          console.log(\"Received values of form: \", data);\r\n          this.$user_api.register(data).then((res) => {\r\n            // 请求后端数据\r\n            if (res.code == 200) {\r\n              this.$message.success(\"注册成功！\");\r\n              this.$router.push({\r\n                path: `/login`,\r\n              });\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n            this.loading = false\r\n          }).catch(() => {\r\n            this.$message.error('连接到服务器失败')\r\n            this.loading = false\r\n          })\r\n        } else {\r\n          this.loading = false\r\n        }\r\n        \r\n      });\r\n    },\r\n    // 处理输入框数据\r\n    handleConfirmBlur(e) {\r\n      const value = e.target.value;\r\n      this.confirmDirty = this.confirmDirty || !!value;\r\n    },\r\n    // 核实两次密码是否一致\r\n    compareToFirstPassword(rule, value, callback) {\r\n      const form = this.form;\r\n      if (value && value !== form.getFieldValue(\"password\")) {\r\n        callback(\"两次密码输入不一致!\");\r\n      } else {\r\n        callback();\r\n      }\r\n    },\r\n    validateToNextPassword(rule, value, callback) {\r\n      const form = this.form;\r\n      if (value && this.confirmDirty) {\r\n        form.validateFields([\"confirm\"], { force: true });\r\n      }\r\n      callback();\r\n    },\r\n    // 跳转登录页面\r\n    to_login() {\r\n      this.$router.push({\r\n        path: `/login`,\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#components-form-normal-register {\r\n  min-width: 450px;\r\n  width: 600px;\r\n  margin: 5rem auto;\r\n}\r\n\r\n#components-form-normal-register .register-form-button {\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=26d2f17f&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=26d2f17f&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26d2f17f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}